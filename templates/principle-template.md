# Agent Principle

This document defines the common principles that all agents ({{AGENT_LIST}} and orchestrator) must follow.

---

## 0. Working Directory

**í”„ë¡œì íŠ¸ ë£¨íŠ¸**: ì´ íŒŒì¼ì´ ìœ„ì¹˜í•œ ë””ë ‰í† ë¦¬ì˜ ìƒìœ„ 2ë‹¨ê³„ (`../../`)

ëª¨ë“  ê²½ë¡œëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê¸°ì¤€ ìƒëŒ€ê²½ë¡œë¡œ ì‘ì„±í•©ë‹ˆë‹¤:
- `doc/` - ë¬¸ì„œ í´ë”
- `doc/agents/` - Agent ê´€ë ¨ ë¬¸ì„œ
- `doc/agents/messages/` - Agent ê°„ ë©”ì‹œì§€
- `doc/feature_{name}/` - Featureë³„ ë¬¸ì„œ
- `src/` - ì†ŒìŠ¤ ì½”ë“œ (ìƒì„± ì‹œ)
- `scripts/` - ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
- `logs/` - Agent ì‹¤í–‰ ë¡œê·¸

**ì¤‘ìš”**: ì‘ì—… ì‹œ í•­ìƒ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹œì‘í•˜ì„¸ìš”. ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì§€ ë§ˆì„¸ìš”.

---

## 1. Feature-based Workflow

### 1.1 Check Feature Folder
When a user requests work on `{name}` feature:
1. Navigate to `doc/feature_{name}/` folder
2. Check the following files:
   - `{name}_brainstorming.md` - Ideas and discussions
   - `{name}_spec.md` - Feature specification
   - `{name}_plan.md` - Implementation plan with tasks for each agent

### 1.2 Find Your Tasks
In `{name}_plan.md`, find the section assigned to you:
{{AGENT_SECTIONS}}
- **Orchestrator**: Review all sections and verify completion

---

## 2. Agent Roles

{{AGENT_ROLE_DEFINITIONS}}

### Orchestrator
- Review spec and plan to understand requirements
- Verify each agent's work meets the spec
- Report overall progress and issues

---

## 3. Inter-Agent Communication

### 3.1 Message Location
Create message files in `doc/agents/messages/` folder.

### 3.2 File Naming Convention
```
{from_agent}_to_{to_agent}_{YYYYMMDD}_{HHMM}.md
```

**Examples:**
- `alpha_to_orchestrator_20240115_1430.md`
- `beta_to_delta_20240115_1500.md`
- `orchestrator_to_all_20240115_1600.md` (for announcements)

### 3.3 Message Format
```markdown
# Message

- **From**: {agent_name}
- **To**: {target_agent_name | all}
- **Feature**: {feature_name}
- **Status**: {completed | in_progress | blocked}
- **Timestamp**: {YYYY-MM-DD HH:MM}

## Content

{Write message content here}

## Action Required (optional)

{Actions requested from the recipient}
```

---

## 4. Completion Report

Each agent MUST report completion:
1. Create message in messages folder
2. Set Status to `completed`
3. List completed tasks in Content
4. Describe results/outputs

---

## 5. Handling Issues

If you encounter problems:
1. Create message in messages folder
2. Set Status to `blocked`
3. Describe the issue in Content
4. Specify who should help in To field

---

## 6. Task Execution Rules

### 6.1 ì‘ì—… ìˆœì„œ
1. **ë¨¼ì € ì½ê¸°**: principle.md â†’ spec.md â†’ plan.md ìˆœì„œë¡œ ì½ê¸°
2. **ìê¸° ì„¹ì…˜ í™•ì¸**: planì—ì„œ ìì‹ ì—ê²Œ í• ë‹¹ëœ ì„¹ì…˜ë§Œ ì‘ì—…
3. **ìˆœì„œëŒ€ë¡œ ìˆ˜í–‰**: ì²´í¬ë¦¬ìŠ¤íŠ¸ ìœ„ì—ì„œë¶€í„° ìˆœì„œëŒ€ë¡œ ì™„ë£Œ
4. **ì™„ë£Œ í‘œì‹œ**: ê° ì‘ì—… ì™„ë£Œ ì‹œ `[ ]` â†’ `[x]`ë¡œ ë³€ê²½
5. **ì™„ë£Œ ë³´ê³ **: ëª¨ë“  ì‘ì—… ì™„ë£Œ ì‹œ ë©”ì‹œì§€ ì‘ì„±

### 6.2 ì½”ë“œ ì‘ì„± ìœ„ì¹˜
- ì†ŒìŠ¤ ì½”ë“œëŠ” `src/` í´ë”ì— ì‘ì„±
- Tech Stackì— ì •ì˜ëœ ì–¸ì–´/í”„ë ˆì„ì›Œí¬ ì‚¬ìš©
- íŒŒì¼ êµ¬ì¡°ëŠ” í•´ë‹¹ ì–¸ì–´ì˜ í‘œì¤€ ì»¨ë²¤ì…˜ ë”°ë¥´ê¸°

### 6.3 ê¸ˆì§€ ì‚¬í•­
- âŒ ë‹¤ë¥¸ agentì˜ ì„¹ì…˜ ì‘ì—…í•˜ì§€ ì•Šê¸°
- âŒ specì— ì—†ëŠ” ê¸°ëŠ¥ ì¶”ê°€í•˜ì§€ ì•Šê¸°
- âŒ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ì™¸ë¶€ íŒŒì¼ ìˆ˜ì •í•˜ì§€ ì•Šê¸°
- âŒ ì‚¬ìš©ìì—ê²Œ ì§ì ‘ ì§ˆë¬¸í•˜ì§€ ì•Šê¸° (ë©”ì‹œì§€ë¡œ ë‚¨ê¸°ê¸°)

### 6.4 ì‘ì—… ì™„ë£Œ ì¡°ê±´
ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆë‹¤ê³  íŒë‹¨ë˜ë©´:
1. plan.mdì˜ ìì‹ ì˜ ì„¹ì…˜ ëª¨ë“  ì²´í¬ë°•ìŠ¤ê°€ `[x]`ì¸ì§€ í™•ì¸
2. ìƒì„±í•œ íŒŒì¼ë“¤ì´ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸
3. ì™„ë£Œ ë©”ì‹œì§€ ì‘ì„± (Status: completed)

---

## 7. Git Integration

### 7.1 ì»¤ë°‹ ê·œì¹™
ê° ì‘ì—… ë‹¨ìœ„ë¡œ ì»¤ë°‹ì„ ìƒì„±í•©ë‹ˆë‹¤:

```bash
git add <ë³€ê²½ëœ íŒŒì¼ë“¤>
git commit -m "<type>(<scope>): <description>

<body>

ğŸ¤– Generated by {agent_name} agent"
```

**Commit Type:**
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `refactor`: ì½”ë“œ ë¦¬íŒ©í† ë§
- `docs`: ë¬¸ì„œ ë³€ê²½
- `test`: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
- `chore`: ê¸°íƒ€ ë³€ê²½

**ì˜ˆì‹œ:**
```bash
git commit -m "feat(sqs-redrive): add list command for DLQ messages

- Implement ListMessages function
- Add --limit and --queue flags
- Handle pagination

ğŸ¤– Generated by Alpha agent"
```

### 7.2 ì»¤ë°‹ íƒ€ì´ë°
- âœ… ê° task ì™„ë£Œ ì‹œ ì»¤ë°‹
- âœ… ì˜ë¯¸ ìˆëŠ” ë‹¨ìœ„ë¡œ ë¬¶ì–´ì„œ ì»¤ë°‹
- âŒ ëª¨ë“  ì‘ì—…ì„ í•œ ë²ˆì— ì»¤ë°‹í•˜ì§€ ì•Šê¸°
- âŒ ë™ì‘í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ì»¤ë°‹í•˜ì§€ ì•Šê¸°

### 7.3 ë¸Œëœì¹˜
- Feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—… (`feature/{name}`)
- ë‹¤ë¥¸ ë¸Œëœì¹˜ë¡œ ì´ë™í•˜ì§€ ì•Šê¸°
- main/master ë¸Œëœì¹˜ì— ì§ì ‘ ì»¤ë°‹í•˜ì§€ ì•Šê¸°

### 7.4 ì¶©ëŒ ë°œìƒ ì‹œ
ë‹¤ë¥¸ agentì™€ ê°™ì€ íŒŒì¼ì„ ìˆ˜ì •í•˜ì—¬ ì¶©ëŒì´ ë°œìƒí•˜ë©´:
1. ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  ë©”ì‹œì§€ ë‚¨ê¸°ê¸° (Status: blocked)
2. Orchestratorì—ê²Œ ì¶©ëŒ í•´ê²° ìš”ì²­
3. ì¶©ëŒ í•´ê²° í›„ ì‘ì—… ì¬ê°œ
